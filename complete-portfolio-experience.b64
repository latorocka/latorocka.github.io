<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brian LaTorraca - QA Automation Engineer & Developer</title>
  <meta name="description" content="Experienced QA Automation Engineer and Developer specializing in Selenium, Cypress.io, and mobile testing. Available for new opportunities in Long Beach, CA." />
  
  <!-- React and ReactDOM from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Babel Standalone for JSX compilation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- DevIcon for Programming Language Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            background: 'hsl(220, 15%, 8%)',
            foreground: 'hsl(210, 40%, 98%)',
            muted: 'hsl(217, 32%, 17%)',
            'muted-foreground': 'hsl(215, 20.2%, 65.1%)',
            accent: 'hsl(210, 40%, 88%)',
            'accent-foreground': 'hsl(220, 15%, 8%)',
            border: 'hsl(217, 32%, 20%)',
            primary: 'hsl(210, 40%, 98%)',
            'primary-foreground': 'hsl(220, 15%, 8%)',
            secondary: 'hsl(215, 20.2%, 65.1%)',
            'secondary-foreground': 'hsl(210, 40%, 98%)',
            card: 'hsl(220, 15%, 10%)',
            'card-foreground': 'hsl(210, 40%, 98%)'
          }
        }
      }
    }
  </script>

  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      margin: 0;
      padding: 0;
    }
    .skill-card {
      background-color: hsl(220, 15%, 10%);
      border: 1px solid hsl(217, 32%, 20%);
      transition: all 0.3s ease;
      transform: scale(1);
    }
    .skill-card:hover {
      border-color: hsl(210, 40%, 88%);
      transform: scale(1.05);
    }
    .project-card {
      background-color: hsl(220, 15%, 10%);
      border: 1px solid hsl(217, 32%, 20%);
      transition: all 0.3s ease;
      transform: scale(1);
    }
    .project-card:hover {
      border-color: hsl(210, 40%, 88%);
      transform: scale(1.05);
    }
    .experience-card {
      background-color: hsl(220, 15%, 10%);
      border: 1px solid hsl(217, 32%, 20%);
      padding: 1.5rem;
      border-radius: 0.5rem;
    }
  </style>
</head>
<body class="dark bg-background text-foreground min-h-screen">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Resume Data - Complete dataset matching Replit
    const personalInfo = {
      name: "Brian LaTorraca",
      title: "QA Automation Engineer & Developer",
      location: "Long Beach, CA 90804",
      email: "Latorocka@gmail.com",
      phone: "714-316-3506",
      linkedin: "https://www.linkedin.com/in/brian-latorraca-22713783/",
      github: "https://github.com/latorocka"
    };

    const experiences = [
      {
        id: 1,
        title: "Software QA Engineer",
        company: "Escape AI",
        location: "Remote",
        period: "February 2025 - Present",
        type: "current",
        description: "AI driven mobile application",
        responsibilities: [
          "Tested AI responses in LLM",
          "Generated bug reports, and communicated QA analytics",
          "Conducted Ad Hoc testing"
        ]
      },
      {
        id: 2,
        title: "QA Automation Engineer",
        company: "Mercury Insurance",
        location: "Remote",
        period: "May 2023 - November 2023",
        type: "previous",
        responsibilities: [
          "Developed test cases, submitted bug reports, and conducted automation testing using Eclipse IDE for Agile development and SaaS platforms",
          "Utilized knowledge of SDLC, Git, MySQL, Guidewire, and Duckcreek to maintain and verify data in MySQL for effective automated script functionality",
          "Identified and automated test cases to ensure desired outcomes were achieved",
          "Executed weekly automated regression tests to promptly report any script bugs or issues"
        ]
      },
      {
        id: 3,
        title: "QA Automation Engineer",
        company: "Upkeep",
        location: "Remote",
        period: "October 2021 - March 2023",
        type: "previous",
        responsibilities: [
          "Developed test cases for web applications",
          "Tested API endpoints using Postman",
          "Conducted weekly manual regression tests",
          "Ran post-production automated smoke tests",
          "Created and maintained automated regression suite using Selenium",
          "Conducted mobile testing using Android Studio",
          "Automated front and back end testing with Cucumber and Java to test user flow and server communication",
          "Utilized Cypress.io for automation in JavaScript to test front end user flow"
        ]
      }
    ];

    // Complete Skills Data matching Replit exactly
    const skills = {
      languages: ["Java", "Javascript", "Python", "HTML5", "CSS", "PHP", "C#", "MySQL", "Swift"],
      testingTools: [
        "Selenium",
        "Cypress.io", 
        "Postman",
        "Android Studio",
        "Cucumber",
        "TestNG",
        "Appium",
        "GraphQL"
      ],
      frameworks: [
        "React",
        "Node.js",
        "Express",
        "Jest",
        "Maven",
        "Spring Boot"
      ],
      tools: [
        "IntelliJ",
        "MongoDB", 
        "Jenkins",
        "Visual Studio",
        "WordPress",
        "FlutterFlow",
        "Unity Game Engine",
        "CircleCI",
        "PowerBI"
      ],
      softSkills: [
        "Team work",
        "Problem solving", 
        "Adaptability",
        "Time management",
        "Communication"
      ]
    };

    const projects = [
      {
        id: 1,
        title: "Selenium Test Framework",
        description: "Enterprise-grade test automation framework built with Java and Selenium WebDriver 4.x, featuring comprehensive Page Object Model implementation, data-driven testing capabilities, and advanced reporting systems. Includes cross-browser testing support, parallel execution, CI/CD pipeline integration, and professional test utilities for scalable test automation solutions.",
        technologies: ["Selenium WebDriver 4.x", "TestNG", "Maven", "Java 11+", "Jenkins", "GitHub Actions", "Extent Reports", "Page Object Model"],
        category: "Automation",
        image: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",
        githubUrl: "https://github.com/latorocka/selenium-framework",
        features: [
          "Page Object Model implementation with maintainable test structure",
          "Cross-browser testing support (Chrome, Firefox, Edge, Safari)",
          "Data-driven testing with Excel integration and external test data management",
          "Parallel test execution capabilities with thread-safe driver management",
          "Automatic screenshot capture on test failures with detailed error reporting",
          "Comprehensive test reporting with Extent Reports and custom dashboards",
          "CI/CD pipeline integration with Jenkins and GitHub Actions",
          "Configuration management for multiple testing environments",
          "Advanced wait utilities and helper methods for robust test execution",
          "Professional test framework architecture with enterprise-grade error handling"
        ]
      },
      {
        id: 2,
        title: "API Test Suite",
        description: "Comprehensive enterprise-grade API testing framework featuring 8 specialized testing categories: Functional, Integration, Performance, Security, and Data Validation testing. Built with Jest and Supertest, includes automated test runner with detailed reporting, live API endpoint validation against JSONPlaceholder, GitHub, and SpaceX APIs, and production-ready error handling with comprehensive metrics analysis.",
        technologies: ["Jest", "Supertest", "GraphQL", "WebSocket", "REST API", "CI/CD", "Performance Testing", "Security Testing"],
        category: "API Testing",
        image: "https://images.unsplash.com/photo-1558494949-ef010cbdcc31?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",
        githubUrl: "https://github.com/latorocka/api-test-suite",
        features: [
          "Comprehensive test suite with 8 specialized testing categories",
          "Functional testing with complete CRUD operations validation and endpoint coverage",
          "Integration testing across multiple API systems with data consistency checks",
          "Performance testing including load analysis, throughput measurement, and scalability testing",
          "Security testing with input validation, SQL injection protection, and vulnerability assessment",
          "Data validation with schema verification and cross-API consistency checks",
          "Live API endpoints: JSONPlaceholder, GitHub API, SpaceX GraphQL, WebSocket servers",
          "Automated test runner with detailed reporting and category-based execution",
          "Real-time demonstration capabilities with immediate execution verification",
          "Production-ready test framework with professional error handling and comprehensive metrics"
        ]
      },
      {
        id: 3,
        title: "Mobile Test Automation Suite",
        description: "Enterprise-grade cross-platform mobile test automation framework built with Appium 2.x and WebDriverIO 8.x. Features comprehensive Page Object Model architecture, parallel execution across multiple devices, advanced gesture testing, performance monitoring, and sophisticated device management utilities for both Android and iOS applications with professional CI/CD integration.",
        technologies: ["Appium 2.x", "WebDriverIO 8.x", "Android Studio", "Xcode", "iOS Simulator", "Page Object Model", "Parallel Testing", "Allure Reports", "CI/CD"],
        category: "Mobile Testing",
        image: "https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",
        githubUrl: "https://github.com/latorocka/mobile-test-suite",
        features: [
          "Cross-platform framework supporting both Android and iOS testing environments",
          "Page Object Model implementation with maintainable mobile test architecture",
          "Parallel execution capabilities across multiple devices and platforms simultaneously",
          "Advanced gesture testing including swipe, tap, pinch, and complex multi-touch interactions",
          "Performance monitoring with app startup time, memory usage, and battery consumption analysis",
          "Device management utilities for handling multiple physical devices and emulators",
          "Comprehensive test coverage including functional, accessibility, and performance testing",
          "CI/CD integration with Jenkins and GitHub Actions for automated mobile testing pipelines",
          "Allure reporting integration with detailed test execution reports and screenshots",
          "Production-ready framework with robust error handling and retry mechanisms"
        ]
      },
      {
        id: 4,
        title: "Cypress Test Framework",
        description: "Advanced end-to-end test automation framework built with Cypress 13.x, demonstrating modern testing practices and enterprise-grade architecture. This comprehensive framework showcases professional QA automation skills through multi-layered testing strategies, 100+ custom command libraries, and production-ready CI/CD integration with detailed performance monitoring and accessibility validation.",
        technologies: ["Cypress 13.x", "JavaScript/TypeScript", "Mochawesome", "Axe-core", "Visual Regression", "GitHub Actions", "Jenkins", "Cross-browser Testing"],
        category: "E2E Testing",
        image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",
        githubUrl: "https://github.com/latorocka/cypress-test-framework",
        features: [
          "Enterprise-grade framework with modern JavaScript/TypeScript architecture",
          "100+ custom commands across API, UI, Performance, and Accessibility testing categories",
          "Multi-layered testing approach: API, UI, Performance, Accessibility, Smoke, and Regression testing",
          "Cross-browser support with testing capabilities for Chrome, Firefox, Edge, and Safari",
          "Advanced performance testing with Core Web Vitals monitoring and load testing capabilities",
          "WCAG 2.1 AA compliance testing with keyboard navigation and screen reader support validation",
          "Security testing including XSS, CSRF, and SQL injection protection verification",
          "Visual regression testing with screenshot comparison and responsive design validation",
          "Professional CI/CD integration with Jenkins and GitHub Actions pipeline configurations",
          "Comprehensive reporting with Mochawesome, video recordings, and detailed test metrics"
        ]
      }
    ];

    // Icon mapping - Complete set
    const languageIcons = {
      "Java": "devicon-java-plain colored",
      "Javascript": "devicon-javascript-plain colored", 
      "Python": "devicon-python-plain colored",
      "HTML5": "devicon-html5-plain colored",
      "CSS": "devicon-css3-plain colored",
      "PHP": "devicon-php-plain colored",
      "C#": "devicon-csharp-plain colored",
      "MySQL": "devicon-mysql-plain colored",
      "Swift": "devicon-swift-plain colored"
    };

    const toolIcons = {
      // Testing Tools & Frameworks
      "Selenium": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/selenium.svg' },
      "Cypress.io": { type: 'devicon', value: 'devicon-cypressio-plain colored' },
      "Postman": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/postman.svg' },
      "Android Studio": { type: 'devicon', value: 'devicon-androidstudio-plain colored' },
      "Cucumber": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/cucumber.svg' },
      "TestNG": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/testinglibrary.svg' },
      "Appium": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/appium.svg' },
      "GraphQL": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/graphql.svg' },
      
      // Frameworks
      "React": { type: 'devicon', value: 'devicon-react-original colored' },
      "Node.js": { type: 'devicon', value: 'devicon-nodejs-plain colored' },
      "Express": { type: 'devicon', value: 'devicon-express-original colored' },
      "Jest": { type: 'devicon', value: 'devicon-jest-plain colored' },
      "Maven": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/apachemaven.svg' },
      "Spring Boot": { type: 'devicon', value: 'devicon-spring-plain colored' },
      
      // Development Tools
      "IntelliJ": { type: 'devicon', value: 'devicon-intellij-plain colored' },
      "MongoDB": { type: 'devicon', value: 'devicon-mongodb-plain colored' },
      "Jenkins": { type: 'devicon', value: 'devicon-jenkins-line colored' },
      "Visual Studio": { type: 'devicon', value: 'devicon-visualstudio-plain colored' },
      "WordPress": { type: 'devicon', value: 'devicon-wordpress-plain colored' },
      "FlutterFlow": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/flutter.svg' },
      "Unity Game Engine": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/unity.svg' },
      "CircleCI": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/circleci.svg' },
      "PowerBI": { type: 'image', value: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/powerbi.svg' }
    };

    // Components
    function Card({ children, className = "" }) {
      return React.createElement('div', { className: `rounded-lg ${className}` }, children);
    }

    function CardContent({ children, className = "" }) {
      return React.createElement('div', { className }, children);
    }

    function Badge({ children, className = "", variant = "default" }) {
      const baseClass = "inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium";
      const variantClass = variant === "secondary" ? "bg-secondary/20 text-secondary-foreground" : "bg-primary text-primary-foreground";
      return React.createElement('span', { className: `${baseClass} ${variantClass} ${className}` }, children);
    }

    function Navigation() {
      return React.createElement('nav', 
        { className: "fixed top-0 w-full bg-background/80 backdrop-blur-sm border-b border-border z-50" },
        React.createElement('div', 
          { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement('div', 
            { className: "flex justify-between h-16" },
            React.createElement('div', 
              { className: "flex items-center" },
              React.createElement('h2', { className: "text-xl font-bold" }, "Brian LaTorraca")
            ),
            React.createElement('div', 
              { className: "hidden md:flex items-center space-x-8" },
              React.createElement('a', { href: "#about", className: "hover:text-accent transition-colors" }, "About"),
              React.createElement('a', { href: "#skills", className: "hover:text-accent transition-colors" }, "Skills"),
              React.createElement('a', { href: "#experience", className: "hover:text-accent transition-colors" }, "Experience"),
              React.createElement('a', { href: "#projects", className: "hover:text-accent transition-colors" }, "Projects"),
              React.createElement('a', { href: "#contact", className: "hover:text-accent transition-colors" }, "Contact")
            )
          )
        )
      );
    }

    function HeroSection() {
      return React.createElement('section', 
        { className: "pt-20 pb-20 min-h-screen flex items-center relative overflow-hidden" },
        React.createElement('div', 
          { className: "absolute inset-0 z-0" },
          React.createElement('img', { 
            src: "https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080",
            alt: "Modern developer workspace",
            className: "w-full h-full object-cover opacity-5"
          })
        ),
        React.createElement('div', 
          { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10" },
          React.createElement('div', 
            { className: "grid grid-cols-1 lg:grid-cols-2 gap-12 items-center" },
            React.createElement('div', 
              { className: "animate-in slide-in-from-left duration-800" },
              React.createElement('h1', 
                { className: "text-5xl lg:text-6xl font-bold mb-6 leading-tight" },
                "QA Automation Engineer & ",
                React.createElement('span', { className: "text-primary" }, "Developer")
              ),
              React.createElement('p', 
                { className: "text-xl text-secondary mb-8 leading-relaxed" },
                "Experienced in developing automated test suites, API testing, and mobile QA with expertise in ",
                React.createElement('span', { className: "text-accent font-medium" }, "Java"),
                ", ",
                React.createElement('span', { className: "text-accent font-medium" }, "JavaScript"),
                ", and ",
                React.createElement('span', { className: "text-accent font-medium" }, "Python"),
                "."
              ),
              React.createElement('div', 
                { className: "flex flex-col sm:flex-row gap-4" },
                React.createElement('button', 
                  { 
                    onClick: () => document.querySelector('#contact')?.scrollIntoView({ behavior: 'smooth' }),
                    className: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8 shadow-lg hover:shadow-xl"
                  }, 
                  React.createElement('span', { className: "mr-2" }, "✉"),
                  "Get In Touch"
                ),
                React.createElement('button', 
                  { 
                    onClick: () => document.querySelector('#projects')?.scrollIntoView({ behavior: 'smooth' }),
                    className: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-11 px-8 border-primary text-primary hover:bg-primary hover:text-primary-foreground"
                  }, 
                  React.createElement('span', { className: "mr-2" }, "💻"),
                  "View My Work"
                )
              ),
              React.createElement('div', 
                { className: "flex items-center gap-6 mt-8 text-secondary" },
                React.createElement('div', 
                  { className: "flex items-center" },
                  React.createElement('span', { className: "mr-2" }, "📍"),
                  React.createElement('span', {}, personalInfo.location)
                ),
                React.createElement('div', 
                  { className: "flex items-center" },
                  React.createElement('span', { className: "mr-2" }, "📞"),
                  React.createElement('span', {}, personalInfo.phone)
                )
              )
            ),
            React.createElement('div', 
              { className: "animate-in fade-in duration-1000" },
              React.createElement('div', 
                { className: "relative" },
                React.createElement('div', 
                  { className: "relative border border-white/5 rounded-2xl overflow-hidden bg-gradient-to-br from-slate-900/20 to-slate-800/10 p-1" },
                  React.createElement('img', { 
                    src: "https://images.unsplash.com/photo-1556075798-4825dfaaf498?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600",
                    alt: "Professional software engineer at modern workstation with multiple monitors and clean setup",
                    className: "rounded-2xl shadow-2xl w-full"
                  })
                )
              )
            )
          )
        )
      );
    }

    function AboutSection() {
      const highlights = [
        {
          icon: "⚙️",
          title: "Automation Expertise",
          description: "Specialized in Selenium, Cypress.io, and building test frameworks from scratch",
          color: "primary"
        },
        {
          icon: "📱",
          title: "Mobile Testing",
          description: "Extensive experience with Android Studio and mobile application testing",
          color: "accent"
        },
        {
          icon: "🖥️",
          title: "API Testing", 
          description: "Proficient in Postman and automated API testing for backend validation",
          color: "success"
        },
        {
          icon: "🧠",
          title: "AI Testing",
          description: "Recent experience testing LLM responses and AI-driven applications",
          color: "yellow"
        }
      ];

      return React.createElement('section', 
        { id: "about", className: "py-20 bg-muted/30" },
        React.createElement('div', 
          { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement('div', 
            { className: "text-center mb-16" },
            React.createElement('h2', { className: "text-4xl font-bold mb-4" }, "About Me"),
            React.createElement('p', 
              { className: "text-xl text-secondary max-w-3xl mx-auto" },
              "Passionate QA Automation Engineer with extensive experience in developing robust test frameworks and ensuring software quality across diverse platforms."
            )
          ),
          React.createElement('div', 
            { className: "grid grid-cols-1 lg:grid-cols-2 gap-16 items-center" },
            React.createElement('div', 
              { className: "animate-in slide-in-from-left duration-700" },
              React.createElement('img', { 
                src: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600",
                alt: "Clean developer setup with modern equipment",
                className: "rounded-2xl shadow-xl w-full"
              })
            ),
            React.createElement('div', 
              { className: "space-y-6" },
              React.createElement('div', 
                {},
                React.createElement('h3', { className: "text-2xl font-bold mb-4" }, "My Journey"),
                React.createElement('p', 
                  { className: "text-secondary leading-relaxed mb-6" },
                  "I began my career as a chef, honing precision, creativity, and problem-solving in fast-paced, high-pressure kitchens. That same drive led me to pursue programming, where I found a new passion for building efficient, elegant solutions in the digital space. Since making the switch, I've earned multiple certifications in web development, PHP programming, and fullstack development, and built a track record of success in roles ranging from junior QA analyst to senior automation engineer across a variety of industries. With hands-on experience and a collaborative mindset, I bring both technical expertise and a service-oriented approach to every project I take on."
                )
              ),
              React.createElement('div', 
                { className: "grid grid-cols-1 sm:grid-cols-2 gap-6" },
                highlights.map((highlight, index) =>
                  React.createElement(Card, 
                    { key: index, className: "skill-card" },
                    React.createElement(CardContent, 
                      { className: "p-6" },
                      React.createElement('div', 
                        { className: "flex items-center mb-4" },
                        React.createElement('div', 
                          { className: `w-12 h-12 rounded-lg flex items-center justify-center ${
                            highlight.color === 'primary' ? 'bg-primary/10 text-primary' :
                            highlight.color === 'accent' ? 'bg-accent/10 text-accent' :
                            highlight.color === 'success' ? 'bg-green-100 text-green-600' :
                            'bg-yellow-100 text-yellow-600'
                          }` },
                          React.createElement('span', { className: "text-2xl" }, highlight.icon)
                        ),
                        React.createElement('h4', { className: "font-bold ml-4" }, highlight.title)
                      ),
                      React.createElement('p', 
                        { className: "text-secondary text-sm" },
                        highlight.description
                      )
                    )
                  )
                )
              )
            )
          )
        )
      );
    }

    function SkillsSection() {
      return React.createElement('section', 
        { id: "skills", className: "py-20 px-4" },
        React.createElement('div', 
          { className: "max-w-7xl mx-auto" },
          React.createElement('div', 
            { className: "text-center mb-16" },
            React.createElement('h2', { className: "text-4xl font-bold mb-4" }, "Technical Skills"),
            React.createElement('p', 
              { className: "text-xl text-secondary" },
              "Comprehensive expertise across multiple programming languages, frameworks, and testing tools"
            )
          ),
          
          // Programming Languages
          React.createElement('div', 
            { className: "mb-16" },
            React.createElement('h3', { className: "text-2xl font-bold mb-8 text-center" }, "Programming Languages"),
            React.createElement('div', 
              { className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6" },
              skills.languages.map((language) =>
                React.createElement(Card, 
                  { key: language, className: "skill-card" },
                  React.createElement(CardContent, 
                    { className: "p-6 text-center" },
                    React.createElement('div', 
                      { className: "text-5xl mb-4" },
                      React.createElement('i', { className: languageIcons[language] || "devicon-code-plain colored" })
                    ),
                    React.createElement('h4', { className: "font-bold" }, language)
                  )
                )
              )
            )
          ),

          // Testing Tools & Frameworks
          React.createElement('div', 
            { className: "mb-16" },
            React.createElement('h3', { className: "text-2xl font-bold mb-8 text-center" }, "Testing Tools & Frameworks"),
            React.createElement('div', 
              { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" },
              skills.testingTools.map((tool, index) => {
                const iconConfig = toolIcons[tool];
                const descriptions = {
                  "Selenium": "Web automation testing framework with Java integration",
                  "Cypress.io": "Modern JavaScript testing framework for frontend automation", 
                  "Postman": "API development and testing platform",
                  "Android Studio": "Mobile application testing and development",
                  "Cucumber": "Behavior-driven development testing framework",
                  "TestNG": "Testing framework for Java with advanced features",
                  "Appium": "Cross-platform mobile test automation framework",
                  "GraphQL": "Query language for APIs and runtime for executing queries"
                };
                
                return React.createElement(Card, 
                  { key: index, className: "skill-card" },
                  React.createElement(CardContent, 
                    { className: "p-6" },
                    React.createElement('div', 
                      { className: "flex items-center mb-4" },
                      React.createElement('div', 
                        { className: "w-8 h-8 mr-4 flex items-center justify-center" },
                        iconConfig ? (
                          iconConfig.type === 'devicon' ? 
                            React.createElement('i', { className: `${iconConfig.value} text-2xl` }) :
                            React.createElement('img', { 
                              src: iconConfig.value, 
                              alt: tool,
                              className: "w-6 h-6 object-contain",
                              style: { filter: 'invert(1)' }
                            })
                        ) : React.createElement('span', { className: "text-2xl" }, "🛠️")
                      ),
                      React.createElement('h4', { className: "font-bold" }, tool)
                    ),
                    React.createElement('p', { className: "text-secondary text-sm" }, descriptions[tool] || `Professional ${tool} testing tool`)
                  )
                );
              })
            )
          ),

          // Frameworks
          React.createElement('div', 
            { className: "mb-16" },
            React.createElement('h3', { className: "text-2xl font-bold mb-8 text-center" }, "Frameworks & Libraries"),
            React.createElement('div', 
              { className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6" },
              skills.frameworks.map((framework) => {
                const iconConfig = toolIcons[framework];
                
                return React.createElement(Card, 
                  { key: framework, className: "skill-card" },
                  React.createElement(CardContent, 
                    { className: "p-6 text-center" },
                    React.createElement('div', 
                      { className: "text-4xl mb-3" },
                      iconConfig ? (
                        iconConfig.type === 'devicon' ? 
                          React.createElement('i', { className: iconConfig.value }) :
                          React.createElement('img', { 
                            src: iconConfig.value, 
                            alt: framework,
                            className: "w-10 h-10 mx-auto",
                            style: { filter: 'invert(1)' }
                          })
                      ) : React.createElement('span', null, "🚀")
                    ),
                    React.createElement('h4', { className: "font-semibold" }, framework)
                  )
                );
              })
            )
          ),

          // Development Tools
          React.createElement('div', 
            { className: "mb-16" },
            React.createElement('h3', { className: "text-2xl font-bold mb-8 text-center" }, "Development Tools"),
            React.createElement('div', 
              { className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6" },
              skills.tools.map((tool) => {
                const iconConfig = toolIcons[tool];
                
                return React.createElement(Card, 
                  { key: tool, className: "skill-card" },
                  React.createElement(CardContent, 
                    { className: "p-6 text-center" },
                    React.createElement('div', 
                      { className: "text-4xl mb-3" },
                      iconConfig ? (
                        iconConfig.type === 'devicon' ? 
                          React.createElement('i', { className: iconConfig.value }) :
                          React.createElement('img', { 
                            src: iconConfig.value, 
                            alt: tool,
                            className: "w-10 h-10 mx-auto",
                            style: { filter: tool === 'GraphQL' ? 'none' : 'invert(1)' }
                          })
                      ) : React.createElement('span', null, "🛠️")
                    ),
                    React.createElement('h4', { className: "font-semibold" }, tool)
                  )
                );
              })
            )
          ),

          // Professional Skills
          React.createElement('div', 
            {},
            React.createElement('h3', { className: "text-2xl font-bold mb-8 text-center" }, "Professional Skills"),
            React.createElement('div', 
              { className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4" },
              skills.softSkills.map((skill) =>
                React.createElement(Card, 
                  { key: skill, className: "skill-card" },
                  React.createElement(CardContent, 
                    { className: "p-4 text-center" },
                    React.createElement('div', { className: "text-2xl mb-2" }, "⭐"),
                    React.createElement('p', { className: "font-medium text-sm" }, skill)
                  )
                )
              )
            )
          )
        )
      );
    }

    function ExperienceSection() {
      const getIcon = (index) => {
        const experience = experiences[index];
        if (experience && experience.company === "Escape AI") {
          return "🧠";
        }
        if (experience && experience.company === "Tatum Games") {
          return "🎮";
        }
        return "⚙️";
      };

      const getIconColor = (index) => {
        const colors = [
          "bg-primary",
          "bg-accent", 
          "bg-green-500",
          "bg-secondary",
          "bg-purple-500",
          "bg-orange-500"
        ];
        return colors[index] || "bg-primary";
      };

      return React.createElement('section', 
        { id: "experience", className: "py-20 bg-muted/30" },
        React.createElement('div', 
          { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement('div', 
            { className: "text-center mb-16" },
            React.createElement('h2', { className: "text-4xl font-bold mb-4" }, "Work Experience"),
            React.createElement('p', 
              { className: "text-xl text-secondary" },
              "Progressive career growth in QA automation and software testing"
            )
          ),
          React.createElement('div', 
            { className: "max-w-4xl mx-auto" },
            React.createElement('div', 
              { className: "relative" },
              React.createElement('div', { className: "absolute left-8 top-0 bottom-0 w-0.5 bg-primary hidden md:block" }),
              experiences.map((experience, index) =>
                React.createElement('div', 
                  { key: experience.id, className: "relative flex items-start mb-12" },
                  React.createElement('div', 
                    { className: `flex-shrink-0 w-16 h-16 ${getIconColor(index)} rounded-full flex items-center justify-center z-10` },
                    React.createElement('span', { className: "text-2xl text-white" }, getIcon(index))
                  ),
                  React.createElement(Card, 
                    { className: "ml-8 flex-1 shadow-lg" },
                    React.createElement(CardContent, 
                      { className: "p-8" },
                      React.createElement('div', 
                        { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4" },
                        React.createElement('h3', { className: "text-xl font-bold" }, experience.title),
                        React.createElement('span', 
                          { className: `text-sm font-medium px-3 py-1 rounded-full ${
                            experience.type === 'current' 
                              ? 'text-primary bg-primary/10' 
                              : 'text-secondary bg-secondary/10'
                          }` },
                          experience.period
                        )
                      ),
                      React.createElement('h4', 
                        { className: "text-lg text-accent font-medium mb-3" },
                        `${experience.company} - ${experience.location}`
                      ),
                      experience.description && 
                        React.createElement('p', 
                          { className: "text-secondary mb-3 italic" },
                          experience.description
                        ),
                      React.createElement('ul', 
                        { className: "text-secondary space-y-2" },
                        experience.responsibilities.map((responsibility, i) =>
                          React.createElement('li', 
                            { key: i, className: "flex items-start" },
                            React.createElement('span', { className: "text-green-500 mt-1 mr-3 text-sm" }, "✓"),
                            React.createElement('span', { className: "text-sm" }, responsibility)
                          )
                        )
                      )
                    )
                  )
                )
              )
            )
          )
        )
      );
    }

    function ProjectsSection() {
      const [selectedProject, setSelectedProject] = useState(null);

      const showDocumentation = (projectId) => {
        const project = projects.find(p => p.id === projectId);
        setSelectedProject(project);
        // Scroll to documentation section
        setTimeout(() => {
          const docSection = document.getElementById('documentation');
          if (docSection) {
            docSection.scrollIntoView({ behavior: 'smooth' });
          }
        }, 100);
      };

      return React.createElement('section', 
        { id: "projects", className: "py-20 px-4" },
        React.createElement('div', 
          { className: "max-w-7xl mx-auto" },
          React.createElement('div', 
            { className: "text-center mb-16" },
            React.createElement('h2', { className: "text-4xl font-bold mb-4" }, "Featured Projects"),
            React.createElement('p', 
              { className: "text-xl text-secondary" },
              "Showcasing automation frameworks, testing tools, and development projects"
            )
          ),
          React.createElement('div', 
            { className: "grid grid-cols-1 md:grid-cols-2 gap-8" },
            projects.map((project, index) =>
              React.createElement(Card, 
                { key: project.id, className: "project-card overflow-hidden" },
                React.createElement('div', 
                  { className: "relative" },
                  React.createElement('img', { 
                    src: project.image, 
                    alt: project.title,
                    className: "w-full h-48 object-cover" 
                  }),
                  React.createElement(Badge, 
                    { className: "absolute top-4 right-4 bg-primary/90 text-primary-foreground" },
                    project.category
                  )
                ),
                React.createElement(CardContent, 
                  { className: "p-6" },
                  React.createElement('div', 
                    { className: "flex items-center justify-between mb-4" },
                    React.createElement('h3', { className: "text-xl font-bold" }, project.title)
                  ),
                  React.createElement('p', 
                    { className: "text-secondary mb-4 text-sm leading-relaxed" },
                    project.description
                  ),
                  React.createElement('div', 
                    { className: "flex flex-wrap gap-2 mb-4" },
                    project.technologies.slice(0, 4).map((tech) =>
                      React.createElement(Badge, 
                        { key: tech, variant: "secondary", className: "text-xs" },
                        tech
                      )
                    )
                  ),
                  React.createElement('div', 
                    { className: "flex gap-3" },
                    React.createElement('button', 
                      { 
                        onClick: () => showDocumentation(project.id),
                        className: "border border-border px-4 py-2 rounded text-sm hover:bg-muted transition-colors" 
                      },
                      "View Details"
                    ),
                    React.createElement('a', 
                      { 
                        href: project.githubUrl,
                        target: "_blank",
                        className: "border border-border px-4 py-2 rounded text-sm hover:bg-muted transition-colors" 
                      },
                      "View on GitHub"
                    )
                  )
                )
              )
            )
          ),

          // Documentation Section
          selectedProject && React.createElement('div', 
            { id: "documentation", className: "mt-20 p-8 bg-muted/20 rounded-lg" },
            React.createElement('h3', { className: "text-2xl font-bold mb-6" }, `${selectedProject.title} - Documentation`),
            React.createElement('div', { className: "space-y-4" },
              React.createElement('div', {},
                React.createElement('h4', { className: "text-lg font-semibold mb-3" }, "Project Overview"),
                React.createElement('p', { className: "mb-4" }, selectedProject.description)
              ),
              selectedProject.features && React.createElement('div', {},
                React.createElement('h4', { className: "text-lg font-semibold mb-3" }, "Key Features"),
                React.createElement('ul', { className: "list-disc list-inside mb-4 space-y-1" },
                  selectedProject.features.map((feature, index) =>
                    React.createElement('li', { key: index }, feature)
                  )
                )
              ),
              React.createElement('a', 
                { 
                  href: selectedProject.githubUrl,
                  target: "_blank",
                  className: "text-accent hover:underline" 
                },
                "View Complete Documentation on GitHub →"
              )
            )
          )
        )
      );
    }

    function ContactSection() {
      return React.createElement('section', 
        { id: "contact", className: "py-20 px-4 bg-muted/30" },
        React.createElement('div', 
          { className: "max-w-4xl mx-auto text-center" },
          React.createElement('h2', { className: "text-3xl font-bold mb-8" }, "Get In Touch"),
          React.createElement('p', 
            { className: "text-lg text-secondary mb-8" },
            "Interested in collaborating or learning more about my testing frameworks? Let's connect!"
          ),
          React.createElement('div', 
            { className: "flex justify-center gap-6 flex-wrap" },
            React.createElement('a', 
              { 
                href: "https://github.com/latorocka",
                target: "_blank",
                className: "bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium hover:bg-accent hover:text-accent-foreground transition-colors" 
              },
              "GitHub Profile"
            ),
            React.createElement('a', 
              { 
                href: "https://www.linkedin.com/in/brian-latorraca-22713783/",
                target: "_blank",
                className: "border border-border px-6 py-3 rounded-lg font-medium hover:bg-muted transition-colors" 
              },
              "LinkedIn"
            ),
            React.createElement('a', 
              { 
                href: "mailto:latorocka@gmail.com",
                className: "border border-border px-6 py-3 rounded-lg font-medium hover:bg-muted transition-colors" 
              },
              "Email"
            )
          )
        )
      );
    }

    function Footer() {
      return React.createElement('footer', 
        { className: "py-8 px-4 border-t border-border" },
        React.createElement('div', 
          { className: "max-w-7xl mx-auto text-center text-secondary" },
          React.createElement('p', {}, "© 2025 Brian LaTorraca. QA Automation Engineer & Developer")
        )
      );
    }

    function App() {
      useEffect(() => {
        // Smooth scrolling for navigation links
        const handleClick = (e) => {
          const href = e.target.getAttribute('href');
          if (href && href.startsWith('#')) {
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          }
        };

        document.addEventListener('click', handleClick);
        return () => document.removeEventListener('click', handleClick);
      }, []);

      return React.createElement('div', 
        { className: "min-h-screen bg-background text-foreground" },
        React.createElement(Navigation),
        React.createElement(HeroSection),
        React.createElement(AboutSection),
        React.createElement(SkillsSection),
        React.createElement(ExperienceSection),
        React.createElement(ProjectsSection),
        React.createElement(ContactSection),
        React.createElement(Footer)
      );
    }

    // Render the application
    ReactDOM.render(React.createElement(App), document.getElementById('root'));
  </script>
</body>
</html>